<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Hola Mundo con D3.js</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/d3-fetch.v1.min.js"></script>
</head>
<body>
    <h1>Hola Mundo</h1>
    <p>Este es un ejemplo que utiliza D3.js para mostrar datos de un archivo JSN.</p>

    <svg id="jsonDemo" class="lightblue" width="80" height="50"></svg>
    <script>
        d3.json("./test.json")
            .then(function(data) {
            console.log("Datos leídos:", data);

        // Convierte a un arreglo si no está en el formato esperado.
            if (!Array.isArray(data)) {
                data = Object.values(data); // Convierte objeto a arreglo
            }

        drawText("#jsonDemo", data);
        })
        function drawText(id, data) {
            d3.select(id)
            .selectAll("text")
            .data(data)
            .enter()
            .append("text")
            .attr("y", (d,i) => i * 20 + 20)
            .attr("x", 10)
            .text((d) => d.letter + " " + d.number + " " + d.color);
        }
    .catch(function(error) {
      console.error("Error al cargar el JSON:", error);
    });
      </script>
      
      
</body>
</html>
